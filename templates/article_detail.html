{% extends "base.html" %}
{% load static %}


{% block title %}{{ post.title_tag}}
{% endblock %}

{% block content %}

    <head>
    <script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />
</head>


<div class="container-fluid w-100 "  style="background: rgba(36, 36, 36, 0.6);   min-height: 100vh; margin-right: auto !important; margin-left:auto!important;  padding-left: 0 !important;padding-right: 0 !important" >

<!--carousel begin-->

<div id="carouselExampleIndicators" class="w-100 carousel slide" data-ride="carousel" >
  <ol class="carousel-indicators">
    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
  </ol>
  <div class="carousel-inner">

    <div class="carousel-item active">


      <img class="d-block w-100" src={% static "images/knuts.jpg" %} alt="First-slide" style = "object-fit: none !important; min-width: 150vmin !important; height: 40vmax !important; " >
        <div class="carousel-caption  d-md-block">
             <h5 style="font-size:6vw;">{{ post.title  }}</h5>
                <p style="font-size:3vw;">By: {{ post.author.first_name }} {{ post.author.last_name }}</p>
  </div>
    </div>
    <div class="carousel-item">
      <img class="d-block w-100 " src={% static "images/bakgrunn2.jpeg" %} alt="Second-slide" style = "object-fit: cover !important; min-width: 150vmin !important; height: 40vmax !important;">
    </div>

  </div>
  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
<!--carousel end-->
<div class = "container d-flex row align-items-center" style ="margin-top: 5px;">
    <div style="margin-left: 10px">
            <small>
                published: {{ post.post_date  }}
                {% if user.is_authenticated and post.author.id == request.user.id %}
            <a href="{% url "update_post" post.pk %}" class="btn-sm btn-secondary">Edit</a>
                <a href="{% url "delete_post" post.pk %}" class="btn-sm btn-secondary">Delete</a>
                {% endif %}

            </small>
    </div>
    <div class="align-self-center" style="margin-left: 10px">
        <form action="{% url 'like_post' post.pk %}" method="POST">
            {% csrf_token %}
            <button class="btn btn-link " type="submit",name="post_id" value="{{ post.id }}">
            <i class="far fa-thumbs-up fa-1x" style="color:white; "></i>
            </button>
        </form>


    </div>
    <div class="align-self-center" style="margin-left: 1px">
        {{ total_likes }}



    </div>
</div>
<hr style=" background-color:white;">
<br/>

<div class="container-fluid" >
  <div class="row" >
      <div class="col-xl order-xl-2" style="max-width: 500px">
          <div>
                {% include "tripcard.html" %}
          </div>
    </div>
    <div class="col-xl-8 order-xl-1" >
        {{ post.body|safe }}
        <br/><br/>
    <a href="{% url "blog" %}" class="btn btn-secondary">Back</a>

    </div>


  </div>
</div>






</div>

{% endblock %}