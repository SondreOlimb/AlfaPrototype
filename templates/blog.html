{% extends "base.html" %}

{% load static %}
{% block content %}







<div class ="container-fluid w-100 justify-content-center" style="background: rgba(36, 36, 36, 0.6);   min-height: 100vh; margin-right: auto !important; margin-left:auto!important;  padding-left: 0 !important;padding-right: 0 !important" >
<br/>
<h1 style = "font-size: 10vh"  class= " text-center " >Blog</h1>









            <div id="carouselExampleControls" class="carousel slide w-100" data-ride="carousel">

                  <div class="carousel-inner">
                       {% for post in object_list|slice:":3" %}
                           {% if forloop.first %}
                            <div class="carousel-item active">
                              <img class="d-block w-100" src="{{ post.header_image.url }}"  alt="..." style = "object-fit: cover !important; min-width: 150vmin !important; height: 40vmax !important; ">
                                <div class="carousel-caption  d-md-block">
                                    <a class = "text-light" href="{% url "article-detail" post.pk %}" >
                                     <h5 style="font-size:6vw;">{{ post.title  }}</h5>
                                        </a>
                                        <p style="font-size:3vw;">By: {{ post.author.first_name }} {{ post.author.last_name }}</p>

                                </div>

                            </div>
                           {% else %}
                               <div class="carousel-item">
                              <img class="d-block w-100" src="{{ post.header_image.url }}"  alt="..." style = "object-fit: cover !important; min-width: 150vmin !important; height: 40vmax !important; ">
                               <div class="carousel-caption  d-md-block">
                                    <a style = "color: white" href="{% url "article-detail" post.pk %}" >
                                     <h5 style="font-size:6vw;">{{ post.title  }}</h5>
                                        </a>
                                        <p style="font-size:3vw;">By: {{ post.author.first_name }} {{ post.author.last_name }}</p>

                                </div>
                            </div>
                           {% endif %}
                      {%  endfor %}

                  </div>

          <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>

    <br/>
{% if cat_menu %}

        <div class="dropdown d-box text-center" >
          <button class="btn btn-dark dropdown-toggle align-self-center" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" >
            Category
          </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              {% for item in cat_menu %}
                <a class="dropdown-item" href="{% url "category" item|slugify %}">{{ item }}</a>
                {% endfor %}


              </div>
        </div>
    <br/>
{% endif %}


    <div class=" container justify-content-center mx-auto  "  >
        <div class="card-columns justify-content-center mx-auto "  >
            {% for post in object_list|slice:"3:" %}

                <div class="card rounded bg-transparent " >
                {% if post.header_image %}
                    <img src={{ post.header_image.url }} class="card-img-top" alt="..." style="object-fit: cover; height: 200px">
                    {% endif %}
                    <div class="card-body rounded-bottom bg-dark" >
                    <h5 class="card-title">{{ post.title }}</h5>
                    <p class="card-text">- {{ post.author.first_name }} {{ post.author.last_name }} <br/> {{ post.snippet|safe}} </p>
                    <a href="{% url "article-detail" post.pk %}" class="btn btn-secondary">Open</a>
                        <a href="{% url "category" post.category|slugify %}" class="btn btn-secondary">{{ post.category }}</a>

                    </div>
                </div>


            {%  endfor %}

        </div>



    </div>



</div>

{% endblock %}

