{% extends "base.html" %}
{% load static %}

{% block content %}

     <script>
    function myFunction(x) {
  x.classList.toggle("fa-angle-up");
}
    </script>
<div class="container-fluid justify-content-center text-center"  style="background: rgba(36, 36, 36, 0.6);   min-height: 100vh; margin-right: auto !important; margin-left:auto!important;  padding-left: 0 !important;padding-right: 0 !important" >
</br>
        <div class="row justify-content-center text-center m-0 p-0 "  >
            <div class=" col-12 align-items-center justify-content-center d-flex flex-column text-center" >
                {% if page_user.profile_pic%}
                    <img class="img-fluid rounded-circle "  alt="100x100" src="{{ page_user.profile_pic.url }}" style = "width: 10rem; height: 10rem">
                {% else %}
                    <img class="img-fluid rounded-circle "  alt="100x100" src="{% static "images/profil.png" %}" style = "width: 10rem; height: 10rem">
                {% endif %}
                    <h1>{{ page_user.user.first_name }} {{ page_user.user.last_name }}</h1>
                </div>

        <div class="col-12 col-md-6 order-2 " >
            <p>{{ page_user.bio }}</p>
        </div>

        </div>
{% if profile.shoes %}
    <div class="row justify-content-center">
    <div class=" col-12 col-lg-6 justify-content-center text-center rounded" style="background: rgba(24,23,23,0.6);">
        <div class = "text-center pt-2"><h1>My shoes</h1> <br/></div>
    <div class="d-none d-lg-block">
         <div class="row  justify-content-center">
               {% for my_shoes in profile.shoes.all %}
                   <div class="col-4">
                     <a class ="text-light" style ="text-decoration: none" href="{{ my_shoes.link_shoe }}">
                        <div class="justify-content-center text-center">
                        {% if my_shoes.link_picture%}

                            <img class="img-fluid rounded-circle mt-0 pt-0"  alt="100x100" src="{{ my_shoes.link_picture }}" style = "width: 10rem; height: 10rem">
                        {% else %}
                            <img class="img-fluid rounded-circle mt-0 pt-0"  alt="100x100" src="{% static "images/profil.png" %}" style = "width: 10rem; height: 10rem">
                        {% endif %}
                        </div>
                        <div class="text-center mt-2">
                        <h3>{{ my_shoes.shoe_name }}</h3>
                        </div>
                     </a>

                   <!--- shoe grading-->
                        <div class="text-center ">
            <div class="collapse" id="collapse{{ forloop.counter }}" style="width: 100%">
          <div class="card bg-dark card-body align-items-center d-flex border-0" style="width: 100%">

                Water resistance



                <div class="d-block w-100">
                    <div class="progress">
                        <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="{{ my_shoes.water_resistance }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ my_shoes.water_resistance }}%; background-color: rgb(52, 125, 241);"></div>
                    </div>
                    Breathability
                    <div class="progress">
                        <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="{{ my_shoes.breathability }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ my_shoes.breathability }}%; background-color: rgb(52, 125, 241);"></div>
                    </div>
                    Sole stiffness
                    <div class="progress">
                        <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="{{ my_shoes.sole_stiffness }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ my_shoes.sole_stiffness }}%; background-color: rgb(52, 125, 241);"></div>
                    </div>
                    Isolation
                    <div class="progress">
                        <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="{{ my_shoes.isolation }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ my_shoes.isolation }}%; background-color: rgb(52, 125, 241);"></div>
                    </div>
                    Ankle stabilization
                    <div class="progress">
                        <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="{{ my_shoes.ankle_stabilization }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ my_shoes.ankle_stabilization }}%; background-color: rgb(52, 125, 241);"></div>
                    </div>



                </div>




          </div>
        </div>

        <p>

      <a style = " margin: 0 !important; padding: 0 !important;" class="btn btn-transparent  " type="button" data-toggle="collapse" data-target="#collapse{{ forloop.counter }}" aria-expanded="false" aria-controls="collapseMap">
         <i onclick="myFunction(this)"  class="fas fa-angle-down fa-2x" style="color:red" ></i>
      </a>
        </p>
            </div>

                        <!---end shoe--->

                   </div>
                {% endfor %}
         </div>
    </div>
<!--If phone or tablet: show carousel-->

<div class ="d-block d-lg-none">
    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
          <div class="carousel-inner text-center">
              {% for my_shoes in profile.shoes.all %}

                  {% if forloop.first %}<!--ifforloop-->
                        <div class="carousel-item active" >
                        <a class = "text-ligth" style ='text-decoration: none; color: white ' href="{{ my_shoes.link_shoe }}">
                        <div class ="">
                            <div>
                              {% if my_shoes.link_picture%}<!--if-profili-pic-->

                                <img class=" d-block rounded-circle m-a"  alt="100x100" src="{{ my_shoes.link_picture }}" style = "width: 10rem; height: 10rem; margin: auto">
                              {% else %} <!--if-profili-pic-->
                                <img class="d-block rounded-circle "  alt="100x100" src="{% static "images/profil.png" %}" style = "width: 10rem; height: 10rem; margin: auto">
                                {% endif %}<!--if-profili-pic-->
                            </div>
                            <div class ="mt-2">
                                <h4>{{ my_shoes.shoe_name }}</h4>
                            </div>
                        </div>
                        </a>
                        <!--- shoe grading-->
                        <div class="text-center ">
            <div class="collapse" id="collapseShoe" style="width: 100%">
          <div class="card bg-dark card-body align-items-center d-flex border-0" style="width: 100%">

                Water resistance



                <div class="d-block w-100">
                    <div class="progress">
                        <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="{{ my_shoes.water_resistance }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ my_shoes.water_resistance }}%; background-color: rgb(52, 125, 241);"></div>
                    </div>
                    Breathability
                    <div class="progress">
                        <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="{{ my_shoes.breathability }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ my_shoes.breathability }}%; background-color: rgb(52, 125, 241);"></div>
                    </div>
                    Sole stiffness
                    <div class="progress">
                        <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="{{ my_shoes.sole_stiffness }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ my_shoes.sole_stiffness }}%; background-color: rgb(52, 125, 241);"></div>
                    </div>
                    Isolation
                    <div class="progress">
                        <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="{{ my_shoes.isolation }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ my_shoes.isolation }}%; background-color: rgb(52, 125, 241);"></div>
                    </div>
                    Ankle stabilization
                    <div class="progress">
                        <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="{{ my_shoes.ankle_stabilization }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ my_shoes.ankle_stabilization }}%; background-color: rgb(52, 125, 241);"></div>
                    </div>



                </div>




          </div>
        </div>

        <p>

      <a style = " margin: 0 !important; padding: 0 !important;" class="btn btn-transparent  " type="button" data-toggle="collapse" data-target="#collapseShoe" aria-expanded="false" aria-controls="collapseMap">
         <i onclick="myFunction(this)"  class="fas fa-angle-down fa-2x" style="color:red" ></i>
      </a>
        </p>
            </div>

                        <!---end shoe--->
                        </div>
                   {% else %}<!--ifforloop-->
                        <div class="carousel-item">
                          <a class = "text-ligth" style ='text-decoration: none; color: white ' href="{{ my_shoes.link_shoe }}">
                        <div class ="">
                            <div>
                              {% if my_shoes.link_picture%}<!--if-profili-pic-->

                                <img class=" d-block rounded-circle m-a"  alt="100x100" src="{{ my_shoes.link_picture }}" style = "width: 10rem; height: 10rem; margin: auto">
                              {% else %} <!--if-profili-pic-->
                                <img class="d-block rounded-circle "  alt="100x100" src="{% static "images/profil.png" %}" style = "width: 10rem; height: 10rem; margin: auto">
                                {% endif %}<!--if-profili-pic-->
                            </div>
                            <div class ="mt-2">
                                <h4>{{ my_shoes.shoe_name }}</h4>
                            </div>
                        </div>
                        </a>
                        <!--- shoe grading-->
                        <div class="text-center ">
            <div class="collapse" id="collapseShoe" style="width: 100%">
          <div class="card bg-dark card-body align-items-center d-flex border-0" style="width: 100%">

                Water resistance



                <div class="d-block w-100">
                    <div class="progress">
                        <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="{{ my_shoes.water_resistance }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ my_shoes.water_resistance }}%; background-color: rgb(52, 125, 241);"></div>
                    </div>
                    Breathability
                    <div class="progress">
                        <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="{{ my_shoes.breathability }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ my_shoes.breathability }}%; background-color: rgb(52, 125, 241);"></div>
                    </div>
                    Sole stiffness
                    <div class="progress">
                        <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="{{ my_shoes.sole_stiffness }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ my_shoes.sole_stiffness }}%; background-color: rgb(52, 125, 241);"></div>
                    </div>
                    Isolation
                    <div class="progress">
                        <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="{{ my_shoes.isolation }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ my_shoes.isolation }}%; background-color: rgb(52, 125, 241);"></div>
                    </div>
                    Ankle stabilization
                    <div class="progress">
                        <div class="progress-bar bg-danger" role="progressbar" aria-valuenow="{{ my_shoes.ankle_stabilization }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ my_shoes.ankle_stabilization }}%; background-color: rgb(52, 125, 241);"></div>
                    </div>



                </div>




          </div>
        </div>

        <p>

      <a style = " margin: 0 !important; padding: 0 !important;" class="btn btn-transparent  " type="button" data-toggle="collapse" data-target="#collapseShoe" aria-expanded="false" aria-controls="collapseMap">
         <i onclick="myFunction(this)"  class="fas fa-angle-down fa-2x" style="color:red" ></i>
      </a>
        </p>
            </div>

                        <!---end shoe--->
                        </div>


                  {% endif %}

              {% endfor %}

          </div>

    </div>
</div>
    </div>
    </div>
{% endif %}







    </br>
    <div class="container-fluid justify-content-center align-items-center">
    <div class="align-items-center justify-content-center text-center" >
        <h2>Check out my latest posts:</h2>
    </div>

            <div class=" container justify-content-center  "  >
        <div class="row row-cols-1 row-cols-md-3 justify-content-center "  >
                {% for post in user_post %}

                {% if post.author.id == page_user.user.id %}
                <div class="col-mb-4 justify-content-center">
                <div class="card rounded bg-transparent " >
                {% if post.header_image %}
                    <img src={{ post.header_image.url }} class="card-img-top" alt="..." style="object-fit: cover; height: 200px">
                    {% endif %}
                    <div class="card-body rounded-bottom bg-dark" >
                    <h5 class="card-title">{{ post.title }}</h5>
                    <p class="card-text">- {{ post.author.first_name }} {{ post.author.last_name }} <br/> {{ post.snippet|safe}}... </p>
                    <a href="{% url "article-detail" post.pk %}" class="btn btn-secondary">Open</a>


                    </div>
                </div>
                    </div>
         {% endif %}
        {% endfor %}




        </div>


    </div>
    </div>




</div>



{% endblock %}